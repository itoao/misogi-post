import { resolve, join } from 'upath';

var name = "nuxt-typed-vuex";
var version = "0.1.22";

const nuxtTypedVuex = function nuxtTypedVuex2() {
  const nuxtOptions = this.nuxt.options;
  if (!nuxtOptions.store)
    console.warn("You do not have a store defined.");
  this.addPlugin({
    src: resolve(__dirname, "../template/plugin.js"),
    fileName: "nuxt-typed-vuex.js",
    options: {
      store: join(nuxtOptions.buildDir, "store")
    }
  });
  nuxtOptions.build.transpile = nuxtOptions.build.transpile || [];
  nuxtOptions.build.transpile.push(/typed-vuex/);
};
nuxtTypedVuex.meta = {name, version};

export default nuxtTypedVuex;
